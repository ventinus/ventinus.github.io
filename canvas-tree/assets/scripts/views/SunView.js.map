{"version":3,"sources":["../../../../src/assets/scripts/views/SunView.js"],"names":[],"mappings":"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","file":"SunView.js","sourcesContent":["import Scene from './Scene';\n\nclass SunView extends Scene {\n  constructor(options) {\n    console.log(options)\n    super()\n    /**\n     * Flag to indicate whether the module has been enabled\n     *\n     * @property isEnabled\n     * @type {Boolean}\n     * @default false\n     */\n    this.isEnabled = false;\n\n    /**\n     * Primary jQuery Element\n     *\n     * @property element\n     * @type {jQuery}\n     */\n    this.element = options;\n\n  }\n\n  // Alias prototype\n  // var proto = Scene.prototype;\n\n  /**\n   * Init\n   *\n   * Top level function which kicks off\n   * functionality of the constructor\n   *\n   * @public\n   * @chainable\n   * @method init\n   */\n  init() {\n    this.initSun()\n      .drawLoop()\n      .enable();\n\n    return this;\n  }\n\n  /**\n   * Enable\n   *\n   * Event listeners and any other calls required to\n   * make the constructor work properly.\n   *\n   * @public\n   * @chainable\n   * @method enable\n   */\n  enable() {\n    if (this.isEnabled) {\n      return this;\n    }\n\n    this.isEnabled = true;\n\n    return this;\n  }\n\n  /**\n   * Disables the view\n   * Tears down any event binding to handlers\n   * Exits early if it is already disabled\n   *\n   * @method disable\n   * @chainable\n   */\n  disable() {\n    if (!this.isEnabled) {\n      return this;\n    }\n\n    this.isEnabled = false;\n\n    return this;\n  }\n\n  /**\n   * Destroys the view\n   * Tears down any events, handlers, elements\n   * Should be called when the object should be left unused\n   *\n   * @method destroy\n   * @chainable\n   */\n  destroy() {\n    this.disable();\n\n    for (var key in this) {\n      if (this.hasOwnProperty(key)) {\n        this[key] = null;\n      }\n    }\n\n    return this;\n  }\n\n\n\n  /*********************\n  Sun\n  *********************/\n  initSun() {\n    this.sun = {\n      xPos: this.element.width - 75,\n      yPos: 75,\n      percent: 0,\n      radius: 50,\n      rising: false\n    };\n\n    this.drawSun();\n\n    return this;\n  }\n\n  drawSun() {\n    this.ctx.fillStyle = '#FF0';\n    this.ctx.strokewidth = 0;\n    this.ctx.beginPath();\n    this.ctx.arc(this.sun.xPos, this.sun.yPos, this.sun.radius, 0, Math.PI * 2, false);\n    this.ctx.fill();\n\n    return this;\n  }\n\n  animSun() {\n    this.sun.percent = this.sun.percent > 1 ? 0 : this.sun.percent + .001;\n\n    var xy = this.getQuadraticBezierXYatPercent({\n      x: -100,\n      y: this.element.height * 1.5\n    }, {\n      x: this.element.width / 2,\n      y: -this.skyHeight * 2\n    }, {\n      x: this.element.width + 100,\n      y: this.element.height * 1.5\n    })\n\n    this.sun.xPos = xy.x;\n    this.sun.yPos = xy.y;\n\n    if (this.sun.rising && this.sun.yPos < -this.sun.radius - 5) {\n      this.sun.rising = false;\n      this.sun.xPos = this.element.width - 75;\n    } else if (!this.sun.rising && this.sun.yPos > this.skyHeight + this.sun.radius * 2) {\n      this.sun.rising = true;\n      this.sun.xPos = 75;\n    }\n\n    this.drawSun();\n\n    this.updateSkyColor();\n\n    return this;\n  }\n\n  drawLoop() {\n    this.animSun();\n\n    setTimeout(function() {\n      window.requestAnimationFrame(this.drawLoop.bind(this));\n    }.bind(this), 1000 / 60)\n    return this;\n  }\n\n  getQuadraticBezierXYatPercent(startPt, controlPt, endPt) {\n    var x = Math.pow(1 - this.sun.percent, 2) * startPt.x + 2 * (1 - this.sun.percent) * this.sun.percent * controlPt.x + Math.pow(this.sun.percent, 2) * endPt.x;\n    var y = Math.pow(1 - this.sun.percent, 2) * startPt.y + 2 * (1 - this.sun.percent) * this.sun.percent * controlPt.y + Math.pow(this.sun.percent, 2) * endPt.y;\n    return ({\n      x: x,\n      y: y\n    });\n  }\n\n  updateSkyColor() {\n    var skyOpacity = 1 - (this.sun.yPos / (this.skyHeight + (this.sun.radius * 2)));\n\n    if (skyOpacity >= 1) {\n      skyOpacity = 1;\n    } else if (skyOpacity <= 0) {\n      skyOpacity = 0;\n    }\n\n    this.skyColor = `rgba(0,206,250,${skyOpacity})`\n\n    return this;\n  }\n\n\n\n\n}\nexport default SunView;"]}